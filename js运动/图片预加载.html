<!DOCTYPE html>
<html lang="en">
<head>
	<meta charset="UTF-8">
	<title>图片按需加载</title>
	<script>
		window.onload = function() {
			var oImg = document.createElement('img');
			document.body.appendChild(oImg);
			var imgArr = [
				'http://d.hiphotos.baidu.com/image/w%3D2048/sign=2846dc1369600c33f079d9c82e74500f/a044ad345982b2b7938726c333adcbef76099b98.jpg',
				'http://f.hiphotos.baidu.com/image/w%3D2048/sign=2da141ad013b5bb5bed727fe02ebd439/7dd98d1001e9390124aacd3879ec54e736d1960f.jpg',
				'http://g.hiphotos.baidu.com/image/w%3D2048/sign=5e067f12a918972ba33a07cad2f57b89/b8014a90f603738d27674f24b11bb051f819ec83.jpg',
				'http://f.hiphotos.baidu.com/image/w%3D2048/sign=fc9023a7d343ad4ba62e41c0b63a5baf/4bed2e738bd4b31ca2a24ab985d6277f9e2ff812.jpg',
				'http://f.hiphotos.baidu.com/image/w%3D2048/sign=99191869cebf6c81f7372be88806b035/9345d688d43f8794a159b42fd01b0ef41bd53a08.jpg',
				'http://a.hiphotos.baidu.com/image/w%3D2048/sign=4aaddd39718da9774e2f812b8469f919/8b13632762d0f70391b28bd60afa513d2697c5b3.jpg',
				'http://g.hiphotos.baidu.com/image/w%3D2048/sign=50df8b2efffaaf5184e386bfb86c95ee/fc1f4134970a304ebbdb83f2d3c8a786c9175c38.jpg'
			];

			var oImage = new Image();
			var iCur = 0;
			var i = 0;
			oImg.onclick = switchImg;

			function switchImg() {
				if (i >= imgArr.length) {
					i = 0;
				}
				oImg.src = imgArr[i];
				i++;
			}
			switchImg();
			// 图片预加载
			preload();
			function preload() {
				oImage.src = imgArr[iCur];
				oImage.onload = function() {
					iCur++;
					if (iCur < imgArr.length) {
						arguments.callee();
					}
					document.title = iCur + '/' + imgArr.length;
				}

			}

		}
	</script>
	<style>
		img {
			height: 400px;
			width: 300px;
		}
	</style>
</head>
<body>
</body>
</html>